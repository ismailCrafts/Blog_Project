{% extends 'base.html' %}
{% block body %}

<section class="main-content">
    <div class="container-xl">

        <!-- Search Results Header -->
        <div class="section-header mb-4">
            <h2>Search results for: "{{ query }}"</h2>
            <hr>
        </div>

        <div class="row">
            {% for post in results %}
            <div class="col-md-6 mb-4">
                <div class="post rounded bordered p-3 h-100">
                    
                    <!-- Post Thumbnail -->
                    <div class="thumb mb-3">
                        <a href="{% url 'blog_detail' post.pk %}">
                            <img src="{{ post.image.url }}" alt="{{ post.title }}" class="img-fluid rounded">
                        </a>
                        <a href="{% url 'category' post.category.pk %}" class="category-badge position-absolute mt-2 ms-2">
                            {{ post.category.name }}
                        </a>
                    </div>

                    <!-- Post Title -->
                    <h4 class="post-title mb-2">
                        <a href="{% url 'blog_detail' post.pk %}">{{ post.title }}</a>
                    </h4>

                    <!-- Post Excerpt -->
                    <p class="excerpt mb-2">{{ post.content|truncatewords:25 }}</p>

                    <!-- Post Meta -->
                    <ul class="meta list-inline mb-0">
                        <li class="list-inline-item">{{ post.author }}</li>
                        <li class="list-inline-item">{{ post.date|date:"d M Y" }}</li>
                        <li class="list-inline-item">{{ post.views }} views</li>
                    </ul>
                </div>
            </div>
            {% empty %}
            <div class="col-12">
                <p class="text-muted">No results found for "{{ query }}"</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}
